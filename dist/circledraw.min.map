{"version":3,"file":"circledraw.min.js","sources":["circledraw.js"],"names":["BW","this","MapCore","ns","meterToNauticalMiles","meters","metersPrNauticalMile","Math","round","nauticalMilesToMeter","nauticalMiles","transformCoordTo4326","coord","transformed","proj4","defs","forward","x","y","lon","lat","transformCoordFrom4326","getGeomType","feature","geometry","CLASS_NAME","replace","polyContainsLonLat","lonlat","point","OpenLayers","Geometry","Point","containsPoint","ringStyle","strokeColor","strokeWidth","fillOpacity","blackCircle","ringOverlayStyle","strokeOpacity","Drag","Class","Control","DragFeature","moveFeature","pixel","nomove","events","triggerEvent","xy","prototype","apply","arguments","downFeature","lastPixel","onStart","upFeature","outFeature","i","length","map","getLonLatFromPixel","layer","features","overFeature","over","handlers","drag","deactivate","CircleControl","callback","initData","active","started","Layer","Vector","dragControl","onComplete","_","bind","circleModified","on","down","startEditDraw","up","stopDraw","move","updateShadow","addControl","setInitData","centerPoint","Lon","Lat","radius","Distance","show","addLayer","drawRing","activate","register","click","sendCallback","removeLayer","removeAllFeatures","unregister","evt","point2","getCentroid","deltax","deltay","newPoint","point1","LonLat","startDraw","draw","coords","p","drawDragRing","geom","bounds","getBounds","right","left","inner","Polygon","createRegularPolygon","top","upper","max","lower","min","size","abs","sqrt","pow","customStyle","style","Feature","addFeatures","dragRing","removeFeatures","LineString","components"],"mappings":"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"}